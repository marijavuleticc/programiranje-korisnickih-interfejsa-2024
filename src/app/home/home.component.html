<div *ngIf="movies.length > 0 else loading" class="container">
  <mat-card class="example-card" appearance="outlined" *ngFor="let movie of movies">
    <mat-card-header>
      <div class="Rating">{{movie.averageRating}}</div>
      <mat-card-title>{{movie.name}}</mat-card-title>
      <mat-card-subtitle>{{movie.duration}}</mat-card-subtitle>
      <span class="movie-genre">{{ movie.genre }}</span>
    </mat-card-header>
    <img mat-card-image [src]="movie.poster" alt="{{movie.name}}">
    <mat-card-content>
      <p>
        {{movie.description}}
      </p>
      <mat-list role="list">
        <mat-list-item role="listitem">Director: {{movie.director}}</mat-list-item>
        <mat-list-item role="listitem">Actors: {{movie.actors}}</mat-list-item>
        <mat-list-item role="listitem">Release date: {{movie.releaseDate}}</mat-list-item>
      </mat-list>
    </mat-card-content>
    <mat-card-actions>
      <a mat-button [routerLink]="['/movie/', movie.id]">
        <i class="fa-solid fa-circle-info"></i> Details
      </a>

      <a mat-button>
        <i class="fa-solid fa-arrow-up-right-from-square"></i>
        Reserve
      </a>
    </mat-card-actions>
  </mat-card>
</div>

<div class="container search-container">
  <mat-card appearance="outlined" class="search-card">
    <mat-card-content>
      <h1>Search your movie</h1>
      <form class="search-form">
        <mat-form-field class="search-field">
          <mat-label>Choose movie </mat-label>
          <mat-select>
            <mat-option [value]="film" *ngFor="let film of filmovi">{{film}}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="search-field">
          <mat-label>Choose cinema </mat-label>
          <mat-select>
            <mat-option [value]="bioskop" *ngFor="let bioskop of bioskopi">{{bioskop}}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="search-field">
          <mat-label>Choose date </mat-label>
          <mat-select>
            <mat-option [value]="date" *ngFor="let date of dates">{{date}}</mat-option>
          </mat-select>
        </mat-form-field>

      </form>
    </mat-card-content>

    <mat-card-actions>
      <a mat-button [routerLink]="['/search/']">
        <i class="fa-solid fa-search"></i> Search now
      </a>
    </mat-card-actions>

  </mat-card>
</div>

<ng-template #loading>

    <mat-card class="loading-card" appearance="outlined">
      <mat-card-content>
        <h1>Loading data... Please wait.</h1>
        <p>If this is taking too long please contact an adiministrator.</p>
      </mat-card-content>
    </mat-card>
</ng-template>